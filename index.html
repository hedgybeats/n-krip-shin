<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>N KRIP SHIN</title>
    <!-- https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP -->
    <!-- <meta
      http-equiv="Content-Security-Policy"
      content="default-src 'self'; script-src 'self'"
    />
    <meta
      http-equiv="X-Content-Security-Policy"
      content="default-src 'self'; script-src 'self'"
    /> -->
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body class="bg-dark">
    <div class="bg-dark-shade-1 py-2 mb-4">
      <h1 class="mb-4 text-center">
        <span class="text-light">N</span>
        <span class="text-success">KRIP</span>
        <span class="text-light">SHIN</span>
      </h1>
      <div class="d-flex justify-content-center mb-4">
        <object
          data="./src/assets/secure-files.svg"
          type="image/svg+xml"
        ></object>
      </div>
    </div>
    <div class="w-100 d-flex justify-content-center align-items-center">
      <button id="encrypt-btn" class="btn btn-success btn-sm m-2" type="button">
        Encrypt
      </button>
      <button
        id="decrypt-btn"
        class="btn btn-secondary btn-sm m-2"
        type="button"
      >
        Decrypt
      </button>
    </div>
    <!-- encrypt -->
    <div id="encryption-container">
      <!-- must delete file after encryption checkbox -->
      <div
        id="delete-after-encrypt-container"
        class="d-flex justify-content-center"
      >
        <div class="form-check mt-4">
          <input
            class="form-check-input green-checkbox cursor-pointer"
            type="checkbox"
            value=""
            id="delete-after-encrypt"
          />
          <label class="form-check-label text-light" for="delete-after-encrypt">
            Delete original file after encryption
          </label>
        </div>
      </div>
      <!-- Choose file -->
      <div id="encryption-input-container" class="input-container my-4">
        <input
          type="file"
          id="encryption-input"
          title=""
          class="cursor-pointer"
        />
        <label for="encryption-input">Browse for file to encrypt</label>
      </div>

      <!-- Error -->
      <div id="encrypt-error" class="error w-75 text-center"></div>

      <!-- Spinner -->
      <div class="d-flex justify-content-center">
        <div
          id="encryption-spinner"
          class="spinner-grow text-success d-none"
          role="status"
        >
          <span class="visually-hidden">Loading...</span>
        </div>
      </div>

      <!-- Encrypt result -->
      <div id="encrypt-results" class="d-none">
        <h3 class="text-center text-success my-3">Success!</h3>
        <!-- vault logo and key/iv details -->
        <div class="w-100 d-flex justify-content-center">
          <div
            class="w-75 d-flex justify-content-center align-items-center bg-light rounded shadow ps-4 pe-2 py-4"
          >
            <div class="pe-4 overflow-break">
              <div class="text-dark" id="encrypted-key"></div>
              <div class="text-dark" id="encrypted-iv"></div>
              <div class="text-dark" id="encrypted-path"></div>
            </div>
            <button id="clipboard-btn" class="btn unstyle" type="button">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                fill="currentColor"
                class="bi bi-clipboard text-dark"
                viewBox="0 0 16 16"
              >
                <path
                  d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"
                />
                <path
                  d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"
                />
              </svg>
            </button>
            <button
              id="clipboard-check"
              class="btn unstyle d-none"
              type="button"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                fill="currentColor"
                class="bi bi-clipboard-check text-success"
                viewBox="0 0 16 16"
              >
                <path
                  fill-rule="evenodd"
                  d="M10.854 7.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7.5 9.793l2.646-2.647a.5.5 0 0 1 .708 0z"
                />
                <path
                  d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"
                />
                <path
                  d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"
                />
              </svg>
            </button>
          </div>
        </div>
        <div class="w-100 d-flex justify-content-center my-4">
          <div class="w-75 alert alert-danger py-2 px-4 mx-2 mb-0">
            Keep these values safe! Without them you will not be able to decrypt
            the file.
          </div>
        </div>
        <!-- startover button -->
        <div class="d-flex justify-content-center">
          <button id="startover-encrypt-btn" class="btn btn-sm btn-success">
            Start over
          </button>
        </div>
      </div>
    </div>
    <!-- decrypt -->
    <div id="decryption-container" class="d-none w-100">
      <!-- must delete file after encryption checkbox -->
      <div
        id="delete-after-decrypt-container"
        class="d-flex justify-content-center"
      >
        <div class="form-check mt-4">
          <input
            class="form-check-input green-checkbox cursor-pointer"
            type="checkbox"
            value=""
            id="delete-after-decrypt"
            checked
          />
          <label class="form-check-label text-light" for="delete-after-decrypt">
            Delete encrypted file after decryption
          </label>
        </div>
      </div>
      <!-- key input -->
      <div id="key-fc-container" class="w-100 d-flex justify-content-center">
        <div class="mb-3 w-75">
          <label for="keyFc" class="form-label text-light">Key</label>
          <input
            type="text"
            class="form-control"
            id="keyFc"
            placeholder="Enter an encryption key."
          />
        </div>
      </div>
      <div id="keyFc-error" class="error"></div>

      <!-- iv input -->
      <div id="iv-fc-container" class="w-100 d-flex justify-content-center">
        <div class="mb-3 w-75">
          <label for="ivFc" class="form-label text-light">IV</label>
          <input
            type="text"
            class="form-control"
            id="ivFc"
            placeholder="Enter an encryption IV."
          />
        </div>
      </div>
      <div id="ivFc-error" class="error"></div>

      <!-- Choose file -->
      <div id="decryption-input-container" class="input-container my-4">
        <input
          type="file"
          id="decryption-input"
          title=""
          class="cursor-pointer"
        />
        <label for="decryption-input">Browse for file to decrypt</label>
      </div>

      <!-- error -->
      <div id="decrypt-error" class="error w-75 text-center"></div>

      <!-- Spinner -->
      <div class="d-flex justify-content-center">
        <div
          id="decryption-spinner"
          class="spinner-grow text-success d-none"
          role="status"
        >
          <span class="visually-hidden">Loading...</span>
        </div>
      </div>

      <!-- Decrypt result -->
      <div id="decrypt-results" class="d-none">
        <h3 class="text-center text-success my-3">Success!</h3>
        <!-- svg and path details -->
        <div class="w-100 d-flex justify-content-center mb-3">
          <div
            class="w-75 d-flex justify-content-center align-items-center bg-light rounded shadow ps-4 pe-2 py-4"
          >
            <div class="overflow-break">
              <div class="text-dark" id="decrypted-path"></div>
            </div>
          </div>
        </div>
        <!-- startover button -->
        <div class="d-flex justify-content-center">
          <button id="startover-decrypt-btn" class="btn btn-sm btn-success">
            Start over
          </button>
        </div>
      </div>
    </div>
    <!-- You can also require other files to run in this process -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
      crossorigin="anonymous"
    ></script>
    <script src="./dist/renderer.js"></script>
  </body>
</html>
